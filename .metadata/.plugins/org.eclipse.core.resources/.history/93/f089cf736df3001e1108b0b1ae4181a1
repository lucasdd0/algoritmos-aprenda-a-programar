package exercicios;
import java.util.Scanner;
public class exercicio32{							
	public static void main(String[] args) {	
		Scanner input = new Scanner (System.in);
		
		int n, c, base, h, i, j;
		
		
		System.out.println("Digite o total de repetições: ");
		n = input.nextInt();
		
		int v [] = new int [n];
		
		for (i = 0; i < n; i++)
		{
			System.out.println("Digite o " + (i + 1) + "° elemento: ");
			v[i] = input.nextInt();
		}
		
		
		h = 1;
		base = 3;							
		
		while (h < n)
		{
			h = base * h + 1;				
		}									
		
		
		while (h > 0)
		{	
			h = (int) Math.floor(h/base);	
			
			for (i = h; i < n; i++)			
			{
				c = v[i];
				j = i;
				
				while (j >= h && v[j - h] > c)
				{
					v[j] = v[j - h];
					j = j - h;
				} 
				v[j] = c;
			}
		}
		
		
		
		for (i = 0; i < n; i++)
		{
			System.out.println("Digite o " + (i + 1) + "º elemento: ");
			v[i] = input.nextInt();	
		}
		
		System.out.println("Digite o valor a ser buscado: ");
		buscando = input.nextInt();
		
		boolean achou = false;
		int inicio = 0;
		int fim = n - 1;				//o vetor começa com 0, logo se são, por exemplo, 8 posições, a ultima vai ser a 7
		int meio;
		int contador = 0;
		
		while (inicio <= fim)						
		{
			meio = (int) ((inicio + fim)/2);		//vai pegar apenas a parte inteira dos índices, exemplo: 7 + 0/ 2 = 3,5 arredonda para baixo = 3		
			contador++;								//conta quantos teste a busca fez 		(NAO PRECISA DESSA PARTE)
			if (v[meio] == buscando)				//vai dividindo até que o meio se torne o buscado
			{
				achou = true;
				break;
			}
			else if (v[meio] < buscando)
			{
				inicio = meio + 1;
			}
			else
			{
				fim = meio - 1;
			}
		}
		
		System.out.println("Quantidade de testes: " + contador);	//NAO PRECSISA DESSA PARTE
		
		if (achou == true) 
		{
			System.out.println("O valor " + buscando + " foi encontrado no indice " + i + " do array"); // lembrando que o array começa sempre com 0		
		}
		else
		{
			System.err.println("O valor " + buscando + " não foi encontrado!");
		}
		
		
		input.close();
	}
}